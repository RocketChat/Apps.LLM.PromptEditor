import{_ as C}from"./conversation-tab.c0aee328.js";import{_ as y}from"./button.vue.f358e7a7.js";import{_ as k}from"./long-press-button.255e7e1b.js";import{u as b}from"./conversation.48b3da9f.js";import{a as B,j as A,b as a,i as r,u as o,t as N,k as S,F as T,h as V,e as l,w as u,o as n,c as L,l as m}from"./entry.381c0f38.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./idb.5d3753e0.js";import"./deta.22dfe5c4.js";import"./trpc.221bc22a.js";import"./log.2adae07e.js";import"./index.browser.7e542916.js";import"./language-model.15951690.js";const F={"p-4":""},G={"font-bold":"","font-title":"","text-14px":"","sm:text-22px":"","text-color":"","mb-2":"",flex:"","items-center":""},U=r("div",null," History ",-1),j={key:0,"ml-auto":"","text-10px":"","sm:text-13px":"","text-color-lighter":"",uppercase:""},D={"max-h-100":"","overflow-y-auto":"","overflow-x-hidden":"","w-full":"","p-2":"","rounded-2":"","mt-6":"",class:"light:bg-gray-1/50 dark:bg-dark-3 dark:shadow-dark",shadow:"","shadow-inset":""},E={flex:"","items-center":"","children:grow":"","gap-3":"","mt-2":""},X=B({__name:"history",setup(H){const{conversationList:e,createConversation:p,switchConversation:_,clearConversations:f}=b(),h=A(()=>e.value===null?null:e.value.sort((t,s)=>t.updatedAt===null?1:s.updatedAt===null?-1:s.updatedAt.getTime()-t.updatedAt.getTime())),v=async()=>{const t=await p("Untitled Conversation");await _(t.id)};return(t,s)=>{var i,c;const x=C,g=y,w=k;return n(),a("div",F,[r("div",G,[U,(i=o(e))!=null&&i.length?(n(),a("div",j,N((c=o(e))==null?void 0:c.length)+" conversations ",1)):S("",!0)]),r("div",D,[(n(!0),a(T,null,V(o(h),d=>(n(),L(x,{key:d.id,conversation:d},null,8,["conversation"]))),128))]),r("div",E,[l(g,{secondary:"",icon:"i-tabler-plus",onClick:v},{default:u(()=>[m(" New chat ")]),_:1}),l(w,{duration:1500,icon:"i-tabler-arrow-bar-to-up","progress-bar-style":"bg-red/50","success-style":"!ring-red",onSuccess:o(f)},{default:u(()=>[m(" Clear all ")]),_:1},8,["onSuccess"])])])}}});export{X as default};
