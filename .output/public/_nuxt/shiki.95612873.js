var Oe=typeof globalThis<"u"?globalThis:typeof{}<"u"?{}:typeof global<"u"?global:typeof self<"u"?self:{},de={},We={get exports(){return de},set exports(e){de=e}};(function(e,y){(function(S,u){e.exports=u()})(Oe,()=>{return S={770:function(P,i,L){var k=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(i,"__esModule",{value:!0}),i.setDefaultDebugCall=i.createOnigScanner=i.createOnigString=i.loadWASM=i.OnigScanner=i.OnigString=void 0;const v=k(L(418));let a=null,j=!1;class m{static _utf8ByteLength(d){let h=0;for(let c=0,f=d.length;c<f;c++){const o=d.charCodeAt(c);let t=o,s=!1;if(o>=55296&&o<=56319&&c+1<f){const r=d.charCodeAt(c+1);r>=56320&&r<=57343&&(t=65536+(o-55296<<10)|r-56320,s=!0)}h+=t<=127?1:t<=2047?2:t<=65535?3:4,s&&c++}return h}constructor(d){const h=d.length,c=m._utf8ByteLength(d),f=c!==h,o=f?new Uint32Array(h+1):null;f&&(o[h]=c);const t=f?new Uint32Array(c+1):null;f&&(t[c]=h);const s=new Uint8Array(c);let r=0;for(let n=0;n<h;n++){const p=d.charCodeAt(n);let l=p,_=!1;if(p>=55296&&p<=56319&&n+1<h){const w=d.charCodeAt(n+1);w>=56320&&w<=57343&&(l=65536+(p-55296<<10)|w-56320,_=!0)}f&&(o[n]=r,_&&(o[n+1]=r),l<=127?t[r+0]=n:l<=2047?(t[r+0]=n,t[r+1]=n):l<=65535?(t[r+0]=n,t[r+1]=n,t[r+2]=n):(t[r+0]=n,t[r+1]=n,t[r+2]=n,t[r+3]=n)),l<=127?s[r++]=l:l<=2047?(s[r++]=192|(1984&l)>>>6,s[r++]=128|(63&l)>>>0):l<=65535?(s[r++]=224|(61440&l)>>>12,s[r++]=128|(4032&l)>>>6,s[r++]=128|(63&l)>>>0):(s[r++]=240|(1835008&l)>>>18,s[r++]=128|(258048&l)>>>12,s[r++]=128|(4032&l)>>>6,s[r++]=128|(63&l)>>>0),_&&n++}this.utf16Length=h,this.utf8Length=c,this.utf16Value=d,this.utf8Value=s,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=t}createString(d){const h=d._omalloc(this.utf8Length);return d.HEAPU8.set(this.utf8Value,h),h}}class b{constructor(d){if(this.id=++b.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=d;const h=new m(d);this.utf16Length=h.utf16Length,this.utf8Length=h.utf8Length,this.utf16OffsetToUtf8=h.utf16OffsetToUtf8,this.utf8OffsetToUtf16=h.utf8OffsetToUtf16,this.utf8Length<1e4&&!b._sharedPtrInUse?(b._sharedPtr||(b._sharedPtr=a._omalloc(1e4)),b._sharedPtrInUse=!0,a.HEAPU8.set(h.utf8Value,b._sharedPtr),this.ptr=b._sharedPtr):this.ptr=h.createString(a)}convertUtf8OffsetToUtf16(d){return this.utf8OffsetToUtf16?d<0?0:d>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[d]:d}convertUtf16OffsetToUtf8(d){return this.utf16OffsetToUtf8?d<0?0:d>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[d]:d}dispose(){this.ptr===b._sharedPtr?b._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}i.OnigString=b,b.LAST_ID=0,b._sharedPtr=0,b._sharedPtrInUse=!1;class T{constructor(d){if(!a)throw new Error("Must invoke loadWASM first.");const h=[],c=[];for(let s=0,r=d.length;s<r;s++){const n=new m(d[s]);h[s]=n.createString(a),c[s]=n.utf8Length}const f=a._omalloc(4*d.length);a.HEAPU32.set(h,f/4);const o=a._omalloc(4*d.length);a.HEAPU32.set(c,o/4);const t=a._createOnigScanner(f,o,d.length);for(let s=0,r=d.length;s<r;s++)a._ofree(h[s]);a._ofree(o),a._ofree(f),t===0&&function(s){throw new Error(s.UTF8ToString(s._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=t}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(d,h,c){let f=j,o=0;if(typeof c=="number"?(8&c&&(f=!0),o=c):typeof c=="boolean"&&(f=c),typeof d=="string"){d=new b(d);const t=this._findNextMatchSync(d,h,f,o);return d.dispose(),t}return this._findNextMatchSync(d,h,f,o)}_findNextMatchSync(d,h,c,f){const o=this._onigBinding;let t;if(t=c?o._findNextOnigScannerMatchDbg(this._ptr,d.id,d.ptr,d.utf8Length,d.convertUtf16OffsetToUtf8(h),f):o._findNextOnigScannerMatch(this._ptr,d.id,d.ptr,d.utf8Length,d.convertUtf16OffsetToUtf8(h),f),t===0)return null;const s=o.HEAPU32;let r=t/4;const n=s[r++],p=s[r++];let l=[];for(let _=0;_<p;_++){const w=d.convertUtf8OffsetToUtf16(s[r++]),x=d.convertUtf8OffsetToUtf16(s[r++]);l[_]={start:w,end:x,length:x-w}}return{index:n,captureIndices:l}}}i.OnigScanner=T;let g=!1,A=null;i.loadWASM=function(N){if(g)return A;let d,h,c,f;if(g=!0,function(o){return typeof o.instantiator=="function"}(N))d=N.instantiator,h=N.print;else{let o;(function(t){return t.data!==void 0})(N)?(o=N.data,h=N.print):o=N,d=function(t){return typeof Response<"u"&&t instanceof Response}(o)?typeof WebAssembly.instantiateStreaming=="function"?function(t){return s=>WebAssembly.instantiateStreaming(t,s)}(o):function(t){return async s=>{const r=await t.arrayBuffer();return WebAssembly.instantiate(r,s)}}(o):function(t){return s=>WebAssembly.instantiate(t,s)}(o)}return A=new Promise((o,t)=>{c=o,f=t}),function(o,t,s,r){(0,v.default)({print:t,instantiateWasm:(n,p)=>{if(typeof performance>"u"){const l=()=>Date.now();n.env.emscripten_get_now=l,n.wasi_snapshot_preview1.emscripten_get_now=l}return o(n).then(l=>p(l.instance),r),{}}}).then(n=>{a=n,s()})}(d,h,c,f),A},i.createOnigString=function(N){return new b(N)},i.createOnigScanner=function(N){return new T(N)},i.setDefaultDebugCall=function(N){j=N}},418:P=>{var i=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(L){var k,v,a=(L=L||{})!==void 0?L:{};a.ready=new Promise(function(I,G){k=I,v=G});var j,m=Object.assign({},a),b=!1,T="";function g(I){return a.locateFile?a.locateFile(I,T):T+I}j=function(I){let G;return typeof readbuffer=="function"?new Uint8Array(readbuffer(I)):(G=read(I,"binary"),f(typeof G=="object"),G)},typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var A,N,d=a.print||console.log.bind(console),h=a.printErr||console.warn.bind(console);Object.assign(a,m),m=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit,a.wasmBinary&&(A=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&D("no native wasm support detected");var c=!1;function f(I,G){I||D(G)}var o,t,s,r=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function n(I,G,X){for(var te=G+X,z=G;I[z]&&!(z>=te);)++z;if(z-G>16&&I.buffer&&r)return r.decode(I.subarray(G,z));for(var W="";G<z;){var Y=I[G++];if(128&Y){var he=63&I[G++];if((224&Y)!=192){var ge=63&I[G++];if((Y=(240&Y)==224?(15&Y)<<12|he<<6|ge:(7&Y)<<18|he<<12|ge<<6|63&I[G++])<65536)W+=String.fromCharCode(Y);else{var je=Y-65536;W+=String.fromCharCode(55296|je>>10,56320|1023&je)}}else W+=String.fromCharCode((31&Y)<<6|he)}else W+=String.fromCharCode(Y)}return W}function p(I,G){return I?n(t,I,G):""}function l(I){o=I,a.HEAP8=new Int8Array(I),a.HEAP16=new Int16Array(I),a.HEAP32=new Int32Array(I),a.HEAPU8=t=new Uint8Array(I),a.HEAPU16=new Uint16Array(I),a.HEAPU32=s=new Uint32Array(I),a.HEAPF32=new Float32Array(I),a.HEAPF64=new Float64Array(I)}a.INITIAL_MEMORY;var _=[],w=[],x=[];function O(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)U(a.preRun.shift());ne(_)}function E(){ne(w)}function H(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)V(a.postRun.shift());ne(x)}function U(I){_.unshift(I)}function B(I){w.unshift(I)}function V(I){x.unshift(I)}var C=0,q=null;function F(I){C++,a.monitorRunDependencies&&a.monitorRunDependencies(C)}function M(I){if(C--,a.monitorRunDependencies&&a.monitorRunDependencies(C),C==0&&q){var G=q;q=null,G()}}function D(I){a.onAbort&&a.onAbort(I),h(I="Aborted("+I+")"),c=!0,I+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(I);throw v(G),G}var J,R,Q="data:application/octet-stream;base64,";function $(I){return I.startsWith(Q)}function ee(I){try{if(I==J&&A)return new Uint8Array(A);if(j)return j(I);throw"both async and sync fetching of the wasm failed"}catch(G){D(G)}}function ae(){return A||!b||typeof fetch!="function"?Promise.resolve().then(function(){return ee(J)}):fetch(J,{credentials:"same-origin"}).then(function(I){if(!I.ok)throw"failed to load wasm binary file at '"+J+"'";return I.arrayBuffer()}).catch(function(){return ee(J)})}function fe(){var I={env:le,wasi_snapshot_preview1:le};function G(z,W){var Y=z.exports;a.asm=Y,l((N=a.asm.memory).buffer),a.asm.__indirect_function_table,B(a.asm.__wasm_call_ctors),M()}function X(z){G(z.instance)}function te(z){return ae().then(function(W){return WebAssembly.instantiate(W,I)}).then(function(W){return W}).then(z,function(W){h("failed to asynchronously prepare wasm: "+W),D(W)})}if(F(),a.instantiateWasm)try{return a.instantiateWasm(I,G)}catch(z){h("Module.instantiateWasm callback failed with error: "+z),v(z)}return(A||typeof WebAssembly.instantiateStreaming!="function"||$(J)||typeof fetch!="function"?te(X):fetch(J,{credentials:"same-origin"}).then(function(z){return WebAssembly.instantiateStreaming(z,I).then(X,function(W){return h("wasm streaming compile failed: "+W),h("falling back to ArrayBuffer instantiation"),te(X)})})).catch(v),{}}function ne(I){for(;I.length>0;)I.shift()(a)}function se(I,G,X){t.copyWithin(I,G,G+X)}function ue(I){try{return N.grow(I-o.byteLength+65535>>>16),l(N.buffer),1}catch{}}function ie(I){var G,X=t.length,te=2147483648;if((I>>>=0)>te)return!1;for(var z=1;z<=4;z*=2){var W=X*(1+.2/z);if(W=Math.min(W,I+100663296),ue(Math.min(te,(G=Math.max(I,W))+(65536-G%65536)%65536)))return!0}return!1}$(J="onig.wasm")||(J=g(J)),R=typeof dateNow<"u"?dateNow:()=>performance.now();var oe=[null,[],[]];function ce(I,G){var X=oe[I];G===0||G===10?((I===1?d:h)(n(X,0)),X.length=0):X.push(G)}function re(I,G,X,te){for(var z=0,W=0;W<X;W++){var Y=s[G>>2],he=s[G+4>>2];G+=8;for(var ge=0;ge<he;ge++)ce(I,t[Y+ge]);z+=he}return s[te>>2]=z,0}var Z,le={emscripten_get_now:R,emscripten_memcpy_big:se,emscripten_resize_heap:ie,fd_write:re};function pe(I){function G(){Z||(Z=!0,a.calledRun=!0,c||(E(),k(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),H()))}C>0||(O(),C>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),G()},1)):G()))}if(fe(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)},a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=p,q=function I(){Z||pe(),Z||(q=I)},a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return pe(),L.ready});P.exports=i}},u={},function P(i){var L=u[i];if(L!==void 0)return L.exports;var k=u[i]={exports:{}};return S[i].call(k.exports,k,k.exports,P),k.exports}(770);var S,u})})(We);var ye={},qe={get exports(){return ye},set exports(e){ye=e}};(function(e,y){(function(S,u){e.exports=u()})(Oe,function(){return(()=>{var S={350:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UseOnigurumaFindOptions=i.DebugFlags=void 0,i.DebugFlags={InDebugMode:typeof process<"u"&&!1},i.UseOnigurumaFindOptions=!1},36:(P,i)=>{var L;Object.defineProperty(i,"__esModule",{value:!0}),i.toOptionalTokenType=i.EncodedTokenAttributes=void 0,(L=i.EncodedTokenAttributes||(i.EncodedTokenAttributes={})).toBinaryStr=function(k){let v=k.toString(2);for(;v.length<32;)v="0"+v;return v},L.print=function(k){const v=L.getLanguageId(k),a=L.getTokenType(k),j=L.getFontStyle(k),m=L.getForeground(k),b=L.getBackground(k);console.log({languageId:v,tokenType:a,fontStyle:j,foreground:m,background:b})},L.getLanguageId=function(k){return(255&k)>>>0},L.getTokenType=function(k){return(768&k)>>>8},L.containsBalancedBrackets=function(k){return(1024&k)!=0},L.getFontStyle=function(k){return(30720&k)>>>11},L.getForeground=function(k){return(16744448&k)>>>15},L.getBackground=function(k){return(4278190080&k)>>>24},L.set=function(k,v,a,j,m,b,T){let g=L.getLanguageId(k),A=L.getTokenType(k),N=L.containsBalancedBrackets(k)?1:0,d=L.getFontStyle(k),h=L.getForeground(k),c=L.getBackground(k);return v!==0&&(g=v),a!==8&&(A=a),j!==null&&(N=j?1:0),m!==-1&&(d=m),b!==0&&(h=b),T!==0&&(c=T),(g<<0|A<<8|N<<10|d<<11|h<<15|c<<24)>>>0},i.toOptionalTokenType=function(k){return k}},996:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BasicScopeAttributesProvider=i.BasicScopeAttributes=void 0;const k=L(878);class v{constructor(b,T){this.languageId=b,this.tokenType=T}}i.BasicScopeAttributes=v;class a{constructor(b,T){this._getBasicScopeAttributes=new k.CachedFn(g=>{const A=this._scopeToLanguage(g),N=this._toStandardTokenType(g);return new v(A,N)}),this._defaultAttributes=new v(b,8),this._embeddedLanguagesMatcher=new j(Object.entries(T||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(b){return b===null?a._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(b)}_scopeToLanguage(b){return this._embeddedLanguagesMatcher.match(b)||0}_toStandardTokenType(b){const T=b.match(a.STANDARD_TOKEN_TYPE_REGEXP);if(!T)return 8;switch(T[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}i.BasicScopeAttributesProvider=a,a._NULL_SCOPE_METADATA=new v(0,0),a.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class j{constructor(b){if(b.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(b);const T=b.map(([g,A])=>k.escapeRegExpCharacters(g));T.sort(),T.reverse(),this.scopesRegExp=new RegExp(`^((${T.join(")|(")}))($|\\.)`,"")}}match(b){if(!this.scopesRegExp)return;const T=b.match(this.scopesRegExp);return T?this.values.get(T[1]):void 0}}},947:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LineTokens=i.BalancedBracketSelectors=i.StateStack=i.AttributedScopeStack=i.Grammar=i.createGrammar=void 0;const k=L(350),v=L(36),a=L(736),j=L(44),m=L(792),b=L(583),T=L(878),g=L(996),A=L(47);function N(r,n,p,l,_){const w=a.createMatchers(n,d),x=m.RuleFactory.getCompiledRuleId(p,l,_.repository);for(const O of w)r.push({debugSelector:n,matcher:O.matcher,ruleId:x,grammar:_,priority:O.priority})}function d(r,n){if(n.length<r.length)return!1;let p=0;return r.every(l=>{for(let _=p;_<n.length;_++)if(h(n[_],l))return p=_+1,!0;return!1})}function h(r,n){if(!r)return!1;if(r===n)return!0;const p=n.length;return r.length>p&&r.substr(0,p)===n&&r[p]==="."}i.createGrammar=function(r,n,p,l,_,w,x,O){return new c(r,n,p,l,_,w,x,O)};class c{constructor(n,p,l,_,w,x,O,E){if(this._rootScopeName=n,this.balancedBracketSelectors=x,this._onigLib=E,this._basicScopeAttributesProvider=new g.BasicScopeAttributesProvider(l,_),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=O,this._grammar=f(p,null),this._injections=null,this._tokenTypeMatchers=[],w)for(const H of Object.keys(w)){const U=a.createMatchers(H,d);for(const B of U)this._tokenTypeMatchers.push({matcher:B.matcher,type:w[H]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const n of this._ruleId2desc)n&&n.dispose()}createOnigScanner(n){return this._onigLib.createOnigScanner(n)}createOnigString(n){return this._onigLib.createOnigString(n)}getMetadataForScope(n){return this._basicScopeAttributesProvider.getBasicScopeAttributes(n)}_collectInjections(){const n=[],p=this._rootScopeName,l=(_=>_===this._rootScopeName?this._grammar:this.getExternalGrammar(_))(p);if(l){const _=l.injections;if(_)for(let x in _)N(n,x,_[x],this,l);const w=this._grammarRepository.injections(p);w&&w.forEach(x=>{const O=this.getExternalGrammar(x);if(O){const E=O.injectionSelector;E&&N(n,E,O,this,O)}})}return n.sort((_,w)=>_.priority-w.priority),n}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),k.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const n of this._injections)console.log(`  - ${n.debugSelector}`)}return this._injections}registerRule(n){const p=++this._lastRuleId,l=n(m.ruleIdFromNumber(p));return this._ruleId2desc[p]=l,l}getRule(n){return this._ruleId2desc[m.ruleIdToNumber(n)]}getExternalGrammar(n,p){if(this._includedGrammars[n])return this._includedGrammars[n];if(this._grammarRepository){const l=this._grammarRepository.lookup(n);if(l)return this._includedGrammars[n]=f(l,p&&p.$base),this._includedGrammars[n]}}tokenizeLine(n,p,l=0){const _=this._tokenize(n,p,!1,l);return{tokens:_.lineTokens.getResult(_.ruleStack,_.lineLength),ruleStack:_.ruleStack,stoppedEarly:_.stoppedEarly}}tokenizeLine2(n,p,l=0){const _=this._tokenize(n,p,!0,l);return{tokens:_.lineTokens.getBinaryResult(_.ruleStack,_.lineLength),ruleStack:_.ruleStack,stoppedEarly:_.stoppedEarly}}_tokenize(n,p,l,_){let w;if(this._rootId===-1&&(this._rootId=m.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),p&&p!==t.NULL)w=!1,p.reset();else{w=!0;const U=this._basicScopeAttributesProvider.getDefaultAttributes(),B=this.themeProvider.getDefaults(),V=v.EncodedTokenAttributes.set(0,U.languageId,U.tokenType,null,B.fontStyle,B.foregroundId,B.backgroundId),C=this.getRule(this._rootId).getName(null,null);let q;q=C?o.createRootAndLookUpScopeName(C,V,this):o.createRoot("unknown",V),p=new t(null,this._rootId,-1,-1,!1,null,q,q)}n+=`
`;const x=this.createOnigString(n),O=x.content.length,E=new s(l,n,this._tokenTypeMatchers,this.balancedBracketSelectors),H=A._tokenizeString(this,x,w,0,p,E,!0,_);return j.disposeOnigString(x),{lineLength:O,lineTokens:E,ruleStack:H.stack,stoppedEarly:H.stoppedEarly}}}function f(r,n){return(r=T.clone(r)).repository=r.repository||{},r.repository.$self={$vscodeTextmateLocation:r.$vscodeTextmateLocation,patterns:r.patterns,name:r.scopeName},r.repository.$base=n||r.repository.$self,r}i.Grammar=c;class o{constructor(n,p,l){this.parent=n,this.scopePath=p,this.tokenAttributes=l}static createRoot(n,p){return new o(null,new b.ScopeStack(null,n),p)}static createRootAndLookUpScopeName(n,p,l){const _=l.getMetadataForScope(n),w=new b.ScopeStack(null,n),x=l.themeProvider.themeMatch(w),O=o.mergeAttributes(p,_,x);return new o(null,w,O)}get scopeName(){return this.scopePath.scopeName}equals(n){return o._equals(this,n)}static _equals(n,p){for(;;){if(n===p||!n&&!p)return!0;if(!n||!p||n.scopeName!==p.scopeName||n.tokenAttributes!==p.tokenAttributes)return!1;n=n.parent,p=p.parent}}static mergeAttributes(n,p,l){let _=-1,w=0,x=0;return l!==null&&(_=l.fontStyle,w=l.foregroundId,x=l.backgroundId),v.EncodedTokenAttributes.set(n,p.languageId,p.tokenType,null,_,w,x)}pushAttributed(n,p){if(n===null)return this;if(n.indexOf(" ")===-1)return o._pushAttributed(this,n,p);const l=n.split(/ /g);let _=this;for(const w of l)_=o._pushAttributed(_,w,p);return _}static _pushAttributed(n,p,l){const _=l.getMetadataForScope(p),w=n.scopePath.push(p),x=l.themeProvider.themeMatch(w),O=o.mergeAttributes(n.tokenAttributes,_,x);return new o(n,w,O)}getScopeNames(){return this.scopePath.getSegments()}}i.AttributedScopeStack=o;class t{constructor(n,p,l,_,w,x,O,E){this.parent=n,this.ruleId=p,this.beginRuleCapturedEOL=w,this.endRule=x,this.nameScopesList=O,this.contentNameScopesList=E,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=l,this._anchorPos=_}equals(n){return n!==null&&t._equals(this,n)}static _equals(n,p){return n===p||!!this._structuralEquals(n,p)&&n.contentNameScopesList.equals(p.contentNameScopesList)}static _structuralEquals(n,p){for(;;){if(n===p||!n&&!p)return!0;if(!n||!p||n.depth!==p.depth||n.ruleId!==p.ruleId||n.endRule!==p.endRule)return!1;n=n.parent,p=p.parent}}clone(){return this}static _reset(n){for(;n;)n._enterPos=-1,n._anchorPos=-1,n=n.parent}reset(){t._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(n,p,l,_,w,x,O){return new t(this,n,p,l,_,w,x,O)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(n){return n.getRule(this.ruleId)}toString(){const n=[];return this._writeString(n,0),"["+n.join(",")+"]"}_writeString(n,p){return this.parent&&(p=this.parent._writeString(n,p)),n[p++]=`(${this.ruleId}, TODO-${this.nameScopesList}, TODO-${this.contentNameScopesList})`,p}withContentNameScopesList(n){return this.contentNameScopesList===n?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,n)}withEndRule(n){return this.endRule===n?this:new t(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,n,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(n){let p=this;for(;p&&p._enterPos===n._enterPos;){if(p.ruleId===n.ruleId)return!0;p=p.parent}return!1}}i.StateStack=t,t.NULL=new t(null,0,0,0,!1,null,null,null),i.BalancedBracketSelectors=class{constructor(r,n){this.allowAny=!1,this.balancedBracketScopes=r.flatMap(p=>p==="*"?(this.allowAny=!0,[]):a.createMatchers(p,d).map(l=>l.matcher)),this.unbalancedBracketScopes=n.flatMap(p=>a.createMatchers(p,d).map(l=>l.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(r){for(const n of this.unbalancedBracketScopes)if(n(r))return!1;for(const n of this.balancedBracketScopes)if(n(r))return!0;return this.allowAny}};class s{constructor(n,p,l,_){this.balancedBracketSelectors=_,this._emitBinaryTokens=n,this._tokenTypeOverrides=l,k.DebugFlags.InDebugMode?this._lineText=p:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(n,p){this.produceFromScopes(n.contentNameScopesList,p)}produceFromScopes(n,p){var _;if(this._lastTokenEndIndex>=p)return;if(this._emitBinaryTokens){let w=n.tokenAttributes,x=!1;if((_=this.balancedBracketSelectors)!=null&&_.matchesAlways&&(x=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const O=n.getScopeNames();for(const E of this._tokenTypeOverrides)E.matcher(O)&&(w=v.EncodedTokenAttributes.set(w,0,v.toOptionalTokenType(E.type),null,-1,0,0));this.balancedBracketSelectors&&(x=this.balancedBracketSelectors.match(O))}if(x&&(w=v.EncodedTokenAttributes.set(w,0,8,x,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===w)return void(this._lastTokenEndIndex=p);if(k.DebugFlags.InDebugMode){const O=n.getScopeNames();console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,p).replace(/\n$/,"\\n")+"|");for(let E=0;E<O.length;E++)console.log("      * "+O[E])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(w),void(this._lastTokenEndIndex=p)}const l=n.getScopeNames();if(k.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,p).replace(/\n$/,"\\n")+"|");for(let w=0;w<l.length;w++)console.log("      * "+l[w])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:p,scopes:l}),this._lastTokenEndIndex=p}getResult(n,p){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===p-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(n,p),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(n,p){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===p-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(n,p),this._binaryTokens[this._binaryTokens.length-2]=0);const l=new Uint32Array(this._binaryTokens.length);for(let _=0,w=this._binaryTokens.length;_<w;_++)l[_]=this._binaryTokens[_];return l}}i.LineTokens=s},965:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInclude=i.TopLevelRepositoryReference=i.TopLevelReference=i.RelativeReference=i.SelfReference=i.BaseReference=i.ScopeDependencyProcessor=i.ExternalReferenceCollector=i.TopLevelRepositoryRuleReference=i.TopLevelRuleReference=void 0;const k=L(878);class v{constructor(t){this.scopeName=t}toKey(){return this.scopeName}}i.TopLevelRuleReference=v;class a{constructor(t,s){this.scopeName=t,this.ruleName=s}toKey(){return`${this.scopeName}#${this.ruleName}`}}i.TopLevelRepositoryRuleReference=a;class j{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(t){const s=t.toKey();this._seenReferenceKeys.has(s)||(this._seenReferenceKeys.add(s),this._references.push(t))}}function m(o,t,s,r){const n=s.lookup(o.scopeName);if(!n){if(o.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const p=s.lookup(t);o instanceof v?T({baseGrammar:p,selfGrammar:n},r):b(o.ruleName,{baseGrammar:p,selfGrammar:n,repository:n.repository},r);const l=s.injections(o.scopeName);if(l)for(const _ of l)r.add(new v(_))}function b(o,t,s){t.repository&&t.repository[o]&&g([t.repository[o]],t,s)}function T(o,t){o.selfGrammar.patterns&&Array.isArray(o.selfGrammar.patterns)&&g(o.selfGrammar.patterns,{...o,repository:o.selfGrammar.repository},t),o.selfGrammar.injections&&g(Object.values(o.selfGrammar.injections),{...o,repository:o.selfGrammar.repository},t)}function g(o,t,s){for(const r of o){if(s.visitedRule.has(r))continue;s.visitedRule.add(r);const n=r.repository?k.mergeObjects({},t.repository,r.repository):t.repository;Array.isArray(r.patterns)&&g(r.patterns,{...t,repository:n},s);const p=r.include;if(!p)continue;const l=f(p);switch(l.kind){case 0:T({...t,selfGrammar:t.baseGrammar},s);break;case 1:T(t,s);break;case 2:b(l.ruleName,{...t,repository:n},s);break;case 3:case 4:const _=l.scopeName===t.selfGrammar.scopeName?t.selfGrammar:l.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(_){const w={baseGrammar:t.baseGrammar,selfGrammar:_,repository:n};l.kind===4?b(l.ruleName,w,s):T(w,s)}else l.kind===4?s.add(new a(l.scopeName,l.ruleName)):s.add(new v(l.scopeName))}}}i.ExternalReferenceCollector=j,i.ScopeDependencyProcessor=class{constructor(o,t){this.repo=o,this.initialScopeName=t,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new v(this.initialScopeName)]}processQueue(){const o=this.Q;this.Q=[];const t=new j;for(const s of o)m(s,this.initialScopeName,this.repo,t);for(const s of t.references)if(s instanceof v){if(this.seenFullScopeRequests.has(s.scopeName))continue;this.seenFullScopeRequests.add(s.scopeName),this.Q.push(s)}else{if(this.seenFullScopeRequests.has(s.scopeName)||this.seenPartialScopeRequests.has(s.toKey()))continue;this.seenPartialScopeRequests.add(s.toKey()),this.Q.push(s)}}};class A{constructor(){this.kind=0}}i.BaseReference=A;class N{constructor(){this.kind=1}}i.SelfReference=N;class d{constructor(t){this.ruleName=t,this.kind=2}}i.RelativeReference=d;class h{constructor(t){this.scopeName=t,this.kind=3}}i.TopLevelReference=h;class c{constructor(t,s){this.scopeName=t,this.ruleName=s,this.kind=4}}function f(o){if(o==="$base")return new A;if(o==="$self")return new N;const t=o.indexOf("#");if(t===-1)return new h(o);if(t===0)return new d(o.substring(1));{const s=o.substring(0,t),r=o.substring(t+1);return new c(s,r)}}i.TopLevelRepositoryReference=c,i.parseInclude=f},391:function(P,i,L){var k=this&&this.__createBinding||(Object.create?function(a,j,m,b){b===void 0&&(b=m),Object.defineProperty(a,b,{enumerable:!0,get:function(){return j[m]}})}:function(a,j,m,b){b===void 0&&(b=m),a[b]=j[m]}),v=this&&this.__exportStar||function(a,j){for(var m in a)m==="default"||Object.prototype.hasOwnProperty.call(j,m)||k(j,a,m)};Object.defineProperty(i,"__esModule",{value:!0}),v(L(947),i)},47:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LocalStackElement=i._tokenizeString=void 0;const k=L(350),v=L(44),a=L(792),j=L(878);class m{constructor(c,f){this.stack=c,this.stoppedEarly=f}}function b(h,c,f,o,t,s,r,n){const p=c.content.length;let l=!1,_=-1;if(r){const O=function(E,H,U,B,V,C){let q=V.beginRuleCapturedEOL?0:-1;const F=[];for(let M=V;M;M=M.pop()){const D=M.getRule(E);D instanceof a.BeginWhileRule&&F.push({rule:D,stack:M})}for(let M=F.pop();M;M=F.pop()){const{ruleScanner:D,findOptions:J}=g(M.rule,E,M.stack.endRule,U,B===q),R=D.findNextMatchSync(H,B,J);if(k.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(D.toString())),!R){k.DebugFlags.InDebugMode&&console.log("  popping "+M.rule.debugName+" - "+M.rule.debugWhileRegExp),V=M.stack.pop();break}if(R.ruleId!==a.whileRuleId){V=M.stack.pop();break}R.captureIndices&&R.captureIndices.length&&(C.produce(M.stack,R.captureIndices[0].start),N(E,H,U,M.stack,C,M.rule.whileCaptures,R.captureIndices),C.produce(M.stack,R.captureIndices[0].end),q=R.captureIndices[0].end,R.captureIndices[0].end>B&&(B=R.captureIndices[0].end,U=!1))}return{stack:V,linePos:B,anchorPosition:q,isFirstLine:U}}(h,c,f,o,t,s);t=O.stack,o=O.linePos,f=O.isFirstLine,_=O.anchorPosition}const w=Date.now();for(;!l;){if(n!==0&&Date.now()-w>n)return new m(t,!0);x()}return new m(t,!1);function x(){k.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${o}: |${c.content.substr(o).replace(/\n$/,"\\n")}|`));const O=function(B,V,C,q,F,M){const D=function(ee,ae,fe,ne,se,ue){const ie=se.getRule(ee),{ruleScanner:oe,findOptions:ce}=T(ie,ee,se.endRule,fe,ne===ue);let re=0;k.DebugFlags.InDebugMode&&(re=j.performanceNow());const Z=oe.findNextMatchSync(ae,ne,ce);if(k.DebugFlags.InDebugMode){const le=j.performanceNow()-re;le>5&&console.warn(`Rule ${ie.debugName} (${ie.id}) matching took ${le} against '${ae}'`),console.log(`  scanning for (linePos: ${ne}, anchorPosition: ${ue})`),console.log(oe.toString()),Z&&console.log(`matched rule id: ${Z.ruleId} from ${Z.captureIndices[0].start} to ${Z.captureIndices[0].end}`)}return Z?{captureIndices:Z.captureIndices,matchedRuleId:Z.ruleId}:null}(B,V,C,q,F,M),J=B.getInjections();if(J.length===0)return D;const R=function(ee,ae,fe,ne,se,ue,ie){let oe,ce=Number.MAX_VALUE,re=null,Z=0;const le=ue.contentNameScopesList.getScopeNames();for(let pe=0,I=ee.length;pe<I;pe++){const G=ee[pe];if(!G.matcher(le))continue;const X=ae.getRule(G.ruleId),{ruleScanner:te,findOptions:z}=T(X,ae,null,ne,se===ie),W=te.findNextMatchSync(fe,se,z);if(!W)continue;k.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${G.debugSelector}`),console.log(te.toString()));const Y=W.captureIndices[0].start;if(!(Y>=ce)&&(ce=Y,re=W.captureIndices,oe=W.ruleId,Z=G.priority,ce===se))break}return re?{priorityMatch:Z===-1,captureIndices:re,matchedRuleId:oe}:null}(J,B,V,C,q,F,M);if(!R)return D;if(!D)return R;const Q=D.captureIndices[0].start,$=R.captureIndices[0].start;return $<Q||R.priorityMatch&&$===Q?R:D}(h,c,f,o,t,_);if(!O)return k.DebugFlags.InDebugMode&&console.log("  no more matches."),s.produce(t,p),void(l=!0);const E=O.captureIndices,H=O.matchedRuleId,U=!!(E&&E.length>0)&&E[0].end>o;if(H===a.endRuleId){const B=t.getRule(h);k.DebugFlags.InDebugMode&&console.log("  popping "+B.debugName+" - "+B.debugEndRegExp),s.produce(t,E[0].start),t=t.withContentNameScopesList(t.nameScopesList),N(h,c,f,t,s,B.endCaptures,E),s.produce(t,E[0].end);const V=t;if(t=t.parent,_=V.getAnchorPos(),!U&&V.getEnterPos()===o)return k.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),t=V,s.produce(t,p),void(l=!0)}else{const B=h.getRule(H);s.produce(t,E[0].start);const V=t,C=B.getName(c.content,E),q=t.contentNameScopesList.pushAttributed(C,h);if(t=t.push(H,o,_,E[0].end===p,null,q,q),B instanceof a.BeginEndRule){const F=B;k.DebugFlags.InDebugMode&&console.log("  pushing "+F.debugName+" - "+F.debugBeginRegExp),N(h,c,f,t,s,F.beginCaptures,E),s.produce(t,E[0].end),_=E[0].end;const M=F.getContentName(c.content,E),D=q.pushAttributed(M,h);if(t=t.withContentNameScopesList(D),F.endHasBackReferences&&(t=t.withEndRule(F.getEndWithResolvedBackReferences(c.content,E))),!U&&V.hasSameRuleAs(t))return k.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),t=t.pop(),s.produce(t,p),void(l=!0)}else if(B instanceof a.BeginWhileRule){const F=B;k.DebugFlags.InDebugMode&&console.log("  pushing "+F.debugName),N(h,c,f,t,s,F.beginCaptures,E),s.produce(t,E[0].end),_=E[0].end;const M=F.getContentName(c.content,E),D=q.pushAttributed(M,h);if(t=t.withContentNameScopesList(D),F.whileHasBackReferences&&(t=t.withEndRule(F.getWhileWithResolvedBackReferences(c.content,E))),!U&&V.hasSameRuleAs(t))return k.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),t=t.pop(),s.produce(t,p),void(l=!0)}else{const F=B;if(k.DebugFlags.InDebugMode&&console.log("  matched "+F.debugName+" - "+F.debugMatchRegExp),N(h,c,f,t,s,F.captures,E),s.produce(t,E[0].end),t=t.pop(),!U)return k.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),t=t.safePop(),s.produce(t,p),void(l=!0)}}E[0].end>o&&(o=E[0].end,f=!1)}}function T(h,c,f,o,t){return k.UseOnigurumaFindOptions?{ruleScanner:h.compile(c,f),findOptions:A(o,t)}:{ruleScanner:h.compileAG(c,f,o,t),findOptions:0}}function g(h,c,f,o,t){return k.UseOnigurumaFindOptions?{ruleScanner:h.compileWhile(c,f),findOptions:A(o,t)}:{ruleScanner:h.compileWhileAG(c,f,o,t),findOptions:0}}function A(h,c){let f=0;return h||(f|=1),c||(f|=4),f}function N(h,c,f,o,t,s,r){if(s.length===0)return;const n=c.content,p=Math.min(s.length,r.length),l=[],_=r[0].end;for(let w=0;w<p;w++){const x=s[w];if(x===null)continue;const O=r[w];if(O.length===0)continue;if(O.start>_)break;for(;l.length>0&&l[l.length-1].endPos<=O.start;)t.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop();if(l.length>0?t.produceFromScopes(l[l.length-1].scopes,O.start):t.produce(o,O.start),x.retokenizeCapturedWithRuleId){const H=x.getName(n,r),U=o.contentNameScopesList.pushAttributed(H,h),B=x.getContentName(n,r),V=U.pushAttributed(B,h),C=o.push(x.retokenizeCapturedWithRuleId,O.start,-1,!1,null,U,V),q=h.createOnigString(n.substring(0,O.end));b(h,q,f&&O.start===0,O.start,C,t,!1,0),v.disposeOnigString(q);continue}const E=x.getName(n,r);if(E!==null){const H=(l.length>0?l[l.length-1].scopes:o.contentNameScopesList).pushAttributed(E,h);l.push(new d(H,O.end))}}for(;l.length>0;)t.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop()}i._tokenizeString=b;class d{constructor(c,f){this.scopes=c,this.endPos=f}}i.LocalStackElement=d},974:(P,i)=>{function L(j,m){throw new Error("Near offset "+j.pos+": "+m+" ~~~"+j.source.substr(j.pos,50)+"~~~")}Object.defineProperty(i,"__esModule",{value:!0}),i.parseJSON=void 0,i.parseJSON=function(j,m,b){let T=new k(j),g=new v,A=0,N=null,d=[],h=[];function c(){d.push(A),h.push(N)}function f(){A=d.pop(),N=h.pop()}function o(t){L(T,t)}for(;a(T,g);){if(A===0){if(N!==null&&o("too many constructs in root"),g.type===3){N={},b&&(N.$vscodeTextmateLocation=g.toLocation(m)),c(),A=1;continue}if(g.type===2){N=[],c(),A=4;continue}o("unexpected token in root")}if(A===2){if(g.type===5){f();continue}if(g.type===7){A=3;continue}o("expected , or }")}if(A===1||A===3){if(A===1&&g.type===5){f();continue}if(g.type===1){let t=g.value;if(a(T,g)&&g.type===6||o("expected colon"),a(T,g)||o("expected value"),A=2,g.type===1){N[t]=g.value;continue}if(g.type===8){N[t]=null;continue}if(g.type===9){N[t]=!0;continue}if(g.type===10){N[t]=!1;continue}if(g.type===11){N[t]=parseFloat(g.value);continue}if(g.type===2){let s=[];N[t]=s,c(),A=4,N=s;continue}if(g.type===3){let s={};b&&(s.$vscodeTextmateLocation=g.toLocation(m)),N[t]=s,c(),A=1,N=s;continue}}o("unexpected token in dict")}if(A===5){if(g.type===4){f();continue}if(g.type===7){A=6;continue}o("expected , or ]")}if(A===4||A===6){if(A===4&&g.type===4){f();continue}if(A=5,g.type===1){N.push(g.value);continue}if(g.type===8){N.push(null);continue}if(g.type===9){N.push(!0);continue}if(g.type===10){N.push(!1);continue}if(g.type===11){N.push(parseFloat(g.value));continue}if(g.type===2){let t=[];N.push(t),c(),A=4,N=t;continue}if(g.type===3){let t={};b&&(t.$vscodeTextmateLocation=g.toLocation(m)),N.push(t),c(),A=1,N=t;continue}o("unexpected token in array")}o("unknown state")}return h.length!==0&&o("unclosed constructs"),N};class k{constructor(m){this.source=m,this.pos=0,this.len=m.length,this.line=1,this.char=0}}class v{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(m){return{filename:m,line:this.line,char:this.char}}}function a(j,m){m.value=null,m.type=0,m.offset=-1,m.len=-1,m.line=-1,m.char=-1;let b,T=j.source,g=j.pos,A=j.len,N=j.line,d=j.char;for(;;){if(g>=A)return!1;if(b=T.charCodeAt(g),b!==32&&b!==9&&b!==13){if(b!==10)break;g++,N++,d=0}else g++,d++}if(m.offset=g,m.line=N,m.char=d,b===34){for(m.type=1,g++,d++;;){if(g>=A)return!1;if(b=T.charCodeAt(g),g++,d++,b!==92){if(b===34)break}else g++,d++}m.value=T.substring(m.offset+1,g-1).replace(/\\u([0-9A-Fa-f]{4})/g,(h,c)=>String.fromCodePoint(parseInt(c,16))).replace(/\\(.)/g,(h,c)=>{switch(c){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:L(j,"invalid escape sequence")}throw new Error("unreachable")})}else if(b===91)m.type=2,g++,d++;else if(b===123)m.type=3,g++,d++;else if(b===93)m.type=4,g++,d++;else if(b===125)m.type=5,g++,d++;else if(b===58)m.type=6,g++,d++;else if(b===44)m.type=7,g++,d++;else if(b===110){if(m.type=8,g++,d++,b=T.charCodeAt(g),b!==117||(g++,d++,b=T.charCodeAt(g),b!==108)||(g++,d++,b=T.charCodeAt(g),b!==108))return!1;g++,d++}else if(b===116){if(m.type=9,g++,d++,b=T.charCodeAt(g),b!==114||(g++,d++,b=T.charCodeAt(g),b!==117)||(g++,d++,b=T.charCodeAt(g),b!==101))return!1;g++,d++}else if(b===102){if(m.type=10,g++,d++,b=T.charCodeAt(g),b!==97||(g++,d++,b=T.charCodeAt(g),b!==108)||(g++,d++,b=T.charCodeAt(g),b!==115)||(g++,d++,b=T.charCodeAt(g),b!==101))return!1;g++,d++}else for(m.type=11;;){if(g>=A)return!1;if(b=T.charCodeAt(g),!(b===46||b>=48&&b<=57||b===101||b===69||b===45||b===43))break;g++,d++}return m.len=g-m.offset,m.value===null&&(m.value=T.substr(m.offset,m.len)),j.pos=g,j.line=N,j.char=d,!0}},787:function(P,i,L){var k=this&&this.__createBinding||(Object.create?function(g,A,N,d){d===void 0&&(d=N),Object.defineProperty(g,d,{enumerable:!0,get:function(){return A[N]}})}:function(g,A,N,d){d===void 0&&(d=N),g[d]=A[N]}),v=this&&this.__exportStar||function(g,A){for(var N in g)N==="default"||Object.prototype.hasOwnProperty.call(A,N)||k(A,g,N)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseRawGrammar=i.INITIAL=i.Registry=void 0;const a=L(391),j=L(50),m=L(652),b=L(583),T=L(965);v(L(44),i),i.Registry=class{constructor(g){this._options=g,this._syncRegistry=new m.SyncRegistry(b.Theme.createFromRawTheme(g.theme,g.colorMap),g.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(g,A){this._syncRegistry.setTheme(b.Theme.createFromRawTheme(g,A))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(g,A,N){return this.loadGrammarWithConfiguration(g,A,{embeddedLanguages:N})}loadGrammarWithConfiguration(g,A,N){return this._loadGrammar(g,A,N.embeddedLanguages,N.tokenTypes,new a.BalancedBracketSelectors(N.balancedBracketSelectors||[],N.unbalancedBracketSelectors||[]))}loadGrammar(g){return this._loadGrammar(g,0,null,null,null)}async _loadGrammar(g,A,N,d,h){const c=new T.ScopeDependencyProcessor(this._syncRegistry,g);for(;c.Q.length>0;)await Promise.all(c.Q.map(f=>this._loadSingleGrammar(f.scopeName))),c.processQueue();return this._grammarForScopeName(g,A,N,d,h)}async _loadSingleGrammar(g){return this._ensureGrammarCache.has(g)||this._ensureGrammarCache.set(g,this._doLoadSingleGrammar(g)),this._ensureGrammarCache.get(g)}async _doLoadSingleGrammar(g){const A=await this._options.loadGrammar(g);if(A){const N=typeof this._options.getInjections=="function"?this._options.getInjections(g):void 0;this._syncRegistry.addGrammar(A,N)}}async addGrammar(g,A=[],N=0,d=null){return this._syncRegistry.addGrammar(g,A),await this._grammarForScopeName(g.scopeName,N,d)}_grammarForScopeName(g,A=0,N=null,d=null,h=null){return this._syncRegistry.grammarForScopeName(g,A,N,d,h)}},i.INITIAL=a.StateStack.NULL,i.parseRawGrammar=j.parseRawGrammar},736:(P,i)=>{function L(k){return!!k&&!!k.match(/[\w\.:]+/)}Object.defineProperty(i,"__esModule",{value:!0}),i.createMatchers=void 0,i.createMatchers=function(k,v){const a=[],j=function(g){let A=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,N=A.exec(g);return{next:()=>{if(!N)return null;const d=N[0];return N=A.exec(g),d}}}(k);let m=j.next();for(;m!==null;){let g=0;if(m.length===2&&m.charAt(1)===":"){switch(m.charAt(0)){case"R":g=1;break;case"L":g=-1;break;default:console.log(`Unknown priority ${m} in scope selector`)}m=j.next()}let A=T();if(a.push({matcher:A,priority:g}),m!==",")break;m=j.next()}return a;function b(){if(m==="-"){m=j.next();const g=b();return A=>!!g&&!g(A)}if(m==="("){m=j.next();const g=function(){const A=[];let N=T();for(;N&&(A.push(N),m==="|"||m===",");){do m=j.next();while(m==="|"||m===",");N=T()}return d=>A.some(h=>h(d))}();return m===")"&&(m=j.next()),g}if(L(m)){const g=[];do g.push(m),m=j.next();while(L(m));return A=>v(g,A)}return null}function T(){const g=[];let A=b();for(;A;)g.push(A),A=b();return N=>g.every(d=>d(N))}}},44:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.disposeOnigString=void 0,i.disposeOnigString=function(L){typeof L.dispose=="function"&&L.dispose()}},50:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseRawGrammar=void 0;const k=L(69),v=L(350),a=L(974);i.parseRawGrammar=function(j,m=null){return m!==null&&/\.json$/.test(m)?(b=j,T=m,v.DebugFlags.InDebugMode?a.parseJSON(b,T,!0):JSON.parse(b)):function(g,A){return v.DebugFlags.InDebugMode?k.parseWithLocation(g,A,"$vscodeTextmateLocation"):k.parsePLIST(g)}(j,m);var b,T}},69:(P,i)=>{function L(k,v,a){const j=k.length;let m=0,b=1,T=0;function g(R){if(a===null)m+=R;else for(;R>0;)k.charCodeAt(m)===10?(m++,b++,T=0):(m++,T++),R--}function A(R){a===null?m=R:g(R-m)}function N(){for(;m<j;){let R=k.charCodeAt(m);if(R!==32&&R!==9&&R!==13&&R!==10)break;g(1)}}function d(R){return k.substr(m,R.length)===R&&(g(R.length),!0)}function h(R){let Q=k.indexOf(R,m);A(Q!==-1?Q+R.length:j)}function c(R){let Q=k.indexOf(R,m);if(Q!==-1){let $=k.substring(m,Q);return A(Q+R.length),$}{let $=k.substr(m);return A(j),$}}j>0&&k.charCodeAt(0)===65279&&(m=1);let f=0,o=null,t=[],s=[],r=null;function n(R,Q){t.push(f),s.push(o),f=R,o=Q}function p(){if(t.length===0)return l("illegal state stack");f=t.pop(),o=s.pop()}function l(R){throw new Error("Near offset "+m+": "+R+" ~~~"+k.substr(m,50)+"~~~")}const _=function(){if(r===null)return l("missing <key>");let R={};a!==null&&(R[a]={filename:v,line:b,char:T}),o[r]=R,r=null,n(1,R)},w=function(){if(r===null)return l("missing <key>");let R=[];o[r]=R,r=null,n(2,R)},x=function(){let R={};a!==null&&(R[a]={filename:v,line:b,char:T}),o.push(R),n(1,R)},O=function(){let R=[];o.push(R),n(2,R)};function E(){if(f!==1)return l("unexpected </dict>");p()}function H(){return f===1||f!==2?l("unexpected </array>"):void p()}function U(R){if(f===1){if(r===null)return l("missing <key>");o[r]=R,r=null}else f===2?o.push(R):o=R}function B(R){if(isNaN(R))return l("cannot parse float");if(f===1){if(r===null)return l("missing <key>");o[r]=R,r=null}else f===2?o.push(R):o=R}function V(R){if(isNaN(R))return l("cannot parse integer");if(f===1){if(r===null)return l("missing <key>");o[r]=R,r=null}else f===2?o.push(R):o=R}function C(R){if(f===1){if(r===null)return l("missing <key>");o[r]=R,r=null}else f===2?o.push(R):o=R}function q(R){if(f===1){if(r===null)return l("missing <key>");o[r]=R,r=null}else f===2?o.push(R):o=R}function F(R){if(f===1){if(r===null)return l("missing <key>");o[r]=R,r=null}else f===2?o.push(R):o=R}function M(){let R=c(">"),Q=!1;return R.charCodeAt(R.length-1)===47&&(Q=!0,R=R.substring(0,R.length-1)),{name:R.trim(),isClosed:Q}}function D(R){if(R.isClosed)return"";let Q=c("</");return h(">"),Q.replace(/&#([0-9]+);/g,function($,ee){return String.fromCodePoint(parseInt(ee,10))}).replace(/&#x([0-9a-f]+);/g,function($,ee){return String.fromCodePoint(parseInt(ee,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function($){switch($){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return $})}for(;m<j&&(N(),!(m>=j));){const R=k.charCodeAt(m);if(g(1),R!==60)return l("expected <");if(m>=j)return l("unexpected end of input");const Q=k.charCodeAt(m);if(Q===63){g(1),h("?>");continue}if(Q===33){if(g(1),d("--")){h("-->");continue}h(">");continue}if(Q===47){if(g(1),N(),d("plist")){h(">");continue}if(d("dict")){h(">"),E();continue}if(d("array")){h(">"),H();continue}return l("unexpected closed tag")}let $=M();switch($.name){case"dict":f===1?_():f===2?x():(o={},a!==null&&(o[a]={filename:v,line:b,char:T}),n(1,o)),$.isClosed&&E();continue;case"array":f===1?w():f===2?O():(o=[],n(2,o)),$.isClosed&&H();continue;case"key":J=D($),f!==1?l("unexpected <key>"):r!==null?l("too many <key>"):r=J;continue;case"string":U(D($));continue;case"real":B(parseFloat(D($)));continue;case"integer":V(parseInt(D($),10));continue;case"date":C(new Date(D($)));continue;case"data":q(D($));continue;case"true":D($),F(!0);continue;case"false":D($),F(!1);continue}if(!/^plist/.test($.name))return l("unexpected opened tag "+$.name)}var J;return o}Object.defineProperty(i,"__esModule",{value:!0}),i.parsePLIST=i.parseWithLocation=void 0,i.parseWithLocation=function(k,v,a){return L(k,v,a)},i.parsePLIST=function(k){return L(k,null,null)}},652:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SyncRegistry=void 0;const k=L(391);i.SyncRegistry=class{constructor(v,a){this._onigLibPromise=a,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=v}dispose(){for(const v of this._grammars.values())v.dispose()}setTheme(v){this._theme=v}getColorMap(){return this._theme.getColorMap()}addGrammar(v,a){this._rawGrammars.set(v.scopeName,v),a&&this._injectionGrammars.set(v.scopeName,a)}lookup(v){return this._rawGrammars.get(v)}injections(v){return this._injectionGrammars.get(v)}getDefaults(){return this._theme.getDefaults()}themeMatch(v){return this._theme.match(v)}async grammarForScopeName(v,a,j,m,b){if(!this._grammars.has(v)){let T=this._rawGrammars.get(v);if(!T)return null;this._grammars.set(v,k.createGrammar(v,T,a,j,m,b,this,await this._onigLibPromise))}return this._grammars.get(v)}}},792:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CompiledRule=i.RegExpSourceList=i.RegExpSource=i.RuleFactory=i.BeginWhileRule=i.BeginEndRule=i.IncludeOnlyRule=i.MatchRule=i.CaptureRule=i.Rule=i.ruleIdToNumber=i.ruleIdFromNumber=i.whileRuleId=i.endRuleId=void 0;const k=L(878),v=L(965),a=/\\(\d+)/,j=/\\(\d+)/g;i.endRuleId=-1,i.whileRuleId=-2,i.ruleIdFromNumber=function(o){return o},i.ruleIdToNumber=function(o){return o};class m{constructor(t,s,r,n){this.$location=t,this.id=s,this._name=r||null,this._nameIsCapturing=k.RegexSource.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=k.RegexSource.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${k.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,s){return this._nameIsCapturing&&this._name!==null&&t!==null&&s!==null?k.RegexSource.replaceCaptures(this._name,t,s):this._name}getContentName(t,s){return this._contentNameIsCapturing&&this._contentName!==null?k.RegexSource.replaceCaptures(this._contentName,t,s):this._contentName}}i.Rule=m;class b extends m{constructor(t,s,r,n,p){super(t,s,r,n),this.retokenizeCapturedWithRuleId=p}dispose(){}collectPatterns(t,s){throw new Error("Not supported!")}compile(t,s){throw new Error("Not supported!")}compileAG(t,s,r,n){throw new Error("Not supported!")}}i.CaptureRule=b;class T extends m{constructor(t,s,r,n,p){super(t,s,r,null),this._match=new h(n,this.id),this.captures=p,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,s){s.push(this._match)}compile(t,s){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,s,r,n){return this._getCachedCompiledPatterns(t).compileAG(t,r,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new c,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}i.MatchRule=T;class g extends m{constructor(t,s,r,n,p){super(t,s,r,n),this.patterns=p.patterns,this.hasMissingPatterns=p.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,s){for(const r of this.patterns)t.getRule(r).collectPatterns(t,s)}compile(t,s){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,s,r,n){return this._getCachedCompiledPatterns(t).compileAG(t,r,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new c,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}i.IncludeOnlyRule=g;class A extends m{constructor(t,s,r,n,p,l,_,w,x,O){super(t,s,r,n),this._begin=new h(p,this.id),this.beginCaptures=l,this._end=new h(_||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=w,this.applyEndPatternLast=x||!1,this.patterns=O.patterns,this.hasMissingPatterns=O.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,s){return this._end.resolveBackReferences(t,s)}collectPatterns(t,s){s.push(this._begin)}compile(t,s){return this._getCachedCompiledPatterns(t,s).compile(t)}compileAG(t,s,r,n){return this._getCachedCompiledPatterns(t,s).compileAG(t,r,n)}_getCachedCompiledPatterns(t,s){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new c;for(const r of this.patterns)t.getRule(r).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,s):this._cachedCompiledPatterns.setSource(0,s)),this._cachedCompiledPatterns}}i.BeginEndRule=A;class N extends m{constructor(t,s,r,n,p,l,_,w,x){super(t,s,r,n),this._begin=new h(p,this.id),this.beginCaptures=l,this.whileCaptures=w,this._while=new h(_,i.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=x.patterns,this.hasMissingPatterns=x.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,s){return this._while.resolveBackReferences(t,s)}collectPatterns(t,s){s.push(this._begin)}compile(t,s){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,s,r,n){return this._getCachedCompiledPatterns(t).compileAG(t,r,n)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new c;for(const s of this.patterns)t.getRule(s).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,s){return this._getCachedCompiledWhilePatterns(t,s).compile(t)}compileWhileAG(t,s,r,n){return this._getCachedCompiledWhilePatterns(t,s).compileAG(t,r,n)}_getCachedCompiledWhilePatterns(t,s){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new c,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,s||"￿"),this._cachedCompiledWhilePatterns}}i.BeginWhileRule=N;class d{static createCaptureRule(t,s,r,n,p){return t.registerRule(l=>new b(s,l,r,n,p))}static getCompiledRuleId(t,s,r){return t.id||s.registerRule(n=>{if(t.id=n,t.match)return new T(t.$vscodeTextmateLocation,t.id,t.name,t.match,d._compileCaptures(t.captures,s,r));if(t.begin===void 0){t.repository&&(r=k.mergeObjects({},r,t.repository));let p=t.patterns;return p===void 0&&t.include&&(p=[{include:t.include}]),new g(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,d._compilePatterns(p,s,r))}return t.while?new N(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,d._compileCaptures(t.beginCaptures||t.captures,s,r),t.while,d._compileCaptures(t.whileCaptures||t.captures,s,r),d._compilePatterns(t.patterns,s,r)):new A(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,d._compileCaptures(t.beginCaptures||t.captures,s,r),t.end,d._compileCaptures(t.endCaptures||t.captures,s,r),t.applyEndPatternLast,d._compilePatterns(t.patterns,s,r))}),t.id}static _compileCaptures(t,s,r){let n=[];if(t){let p=0;for(const l in t){if(l==="$vscodeTextmateLocation")continue;const _=parseInt(l,10);_>p&&(p=_)}for(let l=0;l<=p;l++)n[l]=null;for(const l in t){if(l==="$vscodeTextmateLocation")continue;const _=parseInt(l,10);let w=0;t[l].patterns&&(w=d.getCompiledRuleId(t[l],s,r)),n[_]=d.createCaptureRule(s,t[l].$vscodeTextmateLocation,t[l].name,t[l].contentName,w)}}return n}static _compilePatterns(t,s,r){let n=[];if(t)for(let p=0,l=t.length;p<l;p++){const _=t[p];let w=-1;if(_.include){const x=v.parseInclude(_.include);switch(x.kind){case 0:case 1:w=d.getCompiledRuleId(r[_.include],s,r);break;case 2:let O=r[x.ruleName];O&&(w=d.getCompiledRuleId(O,s,r));break;case 3:case 4:const E=x.scopeName,H=x.kind===4?x.ruleName:null,U=s.getExternalGrammar(E,r);if(U)if(H){let B=U.repository[H];B&&(w=d.getCompiledRuleId(B,s,U.repository))}else w=d.getCompiledRuleId(U.repository.$self,s,U.repository)}}else w=d.getCompiledRuleId(_,s,r);if(w!==-1){const x=s.getRule(w);let O=!1;if((x instanceof g||x instanceof A||x instanceof N)&&x.hasMissingPatterns&&x.patterns.length===0&&(O=!0),O)continue;n.push(w)}}return{patterns:n,hasMissingPatterns:(t?t.length:0)!==n.length}}}i.RuleFactory=d;class h{constructor(t,s){if(t){const r=t.length;let n=0,p=[],l=!1;for(let _=0;_<r;_++)if(t.charAt(_)==="\\"&&_+1<r){const w=t.charAt(_+1);w==="z"?(p.push(t.substring(n,_)),p.push("$(?!\\n)(?<!\\n)"),n=_+2):w!=="A"&&w!=="G"||(l=!0),_++}this.hasAnchor=l,n===0?this.source=t:(p.push(t.substring(n,r)),this.source=p.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=s,this.hasBackReferences=a.test(this.source)}clone(){return new h(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,s){let r=s.map(n=>t.substring(n.start,n.end));return j.lastIndex=0,this.source.replace(j,(n,p)=>k.escapeRegExpCharacters(r[parseInt(p,10)]||""))}_buildAnchorCache(){let t,s,r,n,p=[],l=[],_=[],w=[];for(t=0,s=this.source.length;t<s;t++)r=this.source.charAt(t),p[t]=r,l[t]=r,_[t]=r,w[t]=r,r==="\\"&&t+1<s&&(n=this.source.charAt(t+1),n==="A"?(p[t+1]="￿",l[t+1]="￿",_[t+1]="A",w[t+1]="A"):n==="G"?(p[t+1]="￿",l[t+1]="G",_[t+1]="￿",w[t+1]="G"):(p[t+1]=n,l[t+1]=n,_[t+1]=n,w[t+1]=n),t++);return{A0_G0:p.join(""),A0_G1:l.join(""),A1_G0:_.join(""),A1_G1:w.join("")}}resolveAnchors(t,s){return this.hasAnchor&&this._anchorCache?t?s?this._anchorCache.A1_G1:this._anchorCache.A1_G0:s?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}i.RegExpSource=h;class c{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,s){this._items[t].source!==s&&(this._disposeCaches(),this._items[t].setSource(s))}compile(t){if(!this._cached){let s=this._items.map(r=>r.source);this._cached=new f(t,s,this._items.map(r=>r.ruleId))}return this._cached}compileAG(t,s,r){return this._hasAnchors?s?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,s,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,s,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,s,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,s,r)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,s,r){let n=this._items.map(p=>p.resolveAnchors(s,r));return new f(t,n,this._items.map(p=>p.ruleId))}}i.RegExpSourceList=c;class f{constructor(t,s,r){this.regExps=s,this.rules=r,this.scanner=t.createOnigScanner(s)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let s=0,r=this.rules.length;s<r;s++)t.push("   - "+this.rules[s]+": "+this.regExps[s]);return t.join(`
`)}findNextMatchSync(t,s,r){const n=this.scanner.findNextMatchSync(t,s,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}}i.CompiledRule=f},583:(P,i,L)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeTrieElement=i.ThemeTrieElementRule=i.ColorMap=i.fontStyleToString=i.ParsedThemeRule=i.parseTheme=i.StyleAttributes=i.ScopeStack=i.Theme=void 0;const k=L(878);class v{constructor(h,c,f){this._colorMap=h,this._defaults=c,this._root=f,this._cachedMatchRoot=new k.CachedFn(o=>this._root.match(o))}static createFromRawTheme(h,c){return this.createFromParsedTheme(b(h),c)}static createFromParsedTheme(h,c){return function(f,o){f.sort((_,w)=>{let x=k.strcmp(_.scope,w.scope);return x!==0?x:(x=k.strArrCmp(_.parentScopes,w.parentScopes),x!==0?x:_.index-w.index)});let t=0,s="#000000",r="#ffffff";for(;f.length>=1&&f[0].scope==="";){let _=f.shift();_.fontStyle!==-1&&(t=_.fontStyle),_.foreground!==null&&(s=_.foreground),_.background!==null&&(r=_.background)}let n=new g(o),p=new m(t,n.getId(s),n.getId(r)),l=new N(new A(0,null,-1,0,0),[]);for(let _=0,w=f.length;_<w;_++){let x=f[_];l.insert(0,x.scope,x.parentScopes,x.fontStyle,n.getId(x.foreground),n.getId(x.background))}return new v(n,p,l)}(h,c)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(h){if(h===null)return this._defaults;const c=h.scopeName,f=this._cachedMatchRoot.get(c).find(o=>function(t,s){if(s===null)return!0;let r=0,n=s[r];for(;t;){if(j(t.scopeName,n)){if(r++,r===s.length)return!0;n=s[r]}t=t.parent}return!1}(h.parent,o.parentScopes));return f?new m(f.fontStyle,f.foreground,f.background):null}}i.Theme=v;class a{constructor(h,c){this.parent=h,this.scopeName=c}static from(...h){let c=null;for(let f=0;f<h.length;f++)c=new a(c,h[f]);return c}push(h){return new a(this,h)}getSegments(){let h=this;const c=[];for(;h;)c.push(h.scopeName),h=h.parent;return c.reverse(),c}toString(){return this.getSegments().join(" ")}}function j(d,h){return h===d||d.startsWith(h)&&d[h.length]==="."}i.ScopeStack=a;class m{constructor(h,c,f){this.fontStyle=h,this.foregroundId=c,this.backgroundId=f}}function b(d){if(!d)return[];if(!d.settings||!Array.isArray(d.settings))return[];let h=d.settings,c=[],f=0;for(let o=0,t=h.length;o<t;o++){let s,r=h[o];if(!r.settings)continue;if(typeof r.scope=="string"){let _=r.scope;_=_.replace(/^[,]+/,""),_=_.replace(/[,]+$/,""),s=_.split(",")}else s=Array.isArray(r.scope)?r.scope:[""];let n=-1;if(typeof r.settings.fontStyle=="string"){n=0;let _=r.settings.fontStyle.split(" ");for(let w=0,x=_.length;w<x;w++)switch(_[w]){case"italic":n|=1;break;case"bold":n|=2;break;case"underline":n|=4;break;case"strikethrough":n|=8}}let p=null;typeof r.settings.foreground=="string"&&k.isValidHexColor(r.settings.foreground)&&(p=r.settings.foreground);let l=null;typeof r.settings.background=="string"&&k.isValidHexColor(r.settings.background)&&(l=r.settings.background);for(let _=0,w=s.length;_<w;_++){let x=s[_].trim().split(" "),O=x[x.length-1],E=null;x.length>1&&(E=x.slice(0,x.length-1),E.reverse()),c[f++]=new T(O,E,o,n,p,l)}}return c}i.StyleAttributes=m,i.parseTheme=b;class T{constructor(h,c,f,o,t,s){this.scope=h,this.parentScopes=c,this.index=f,this.fontStyle=o,this.foreground=t,this.background=s}}i.ParsedThemeRule=T,i.fontStyleToString=function(d){if(d===-1)return"not set";let h="";return 1&d&&(h+="italic "),2&d&&(h+="bold "),4&d&&(h+="underline "),8&d&&(h+="strikethrough "),h===""&&(h="none"),h.trim()};class g{constructor(h){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(h)){this._isFrozen=!0;for(let c=0,f=h.length;c<f;c++)this._color2id[h[c]]=c,this._id2color[c]=h[c]}else this._isFrozen=!1}getId(h){if(h===null)return 0;h=h.toUpperCase();let c=this._color2id[h];if(c)return c;if(this._isFrozen)throw new Error(`Missing color in color map - ${h}`);return c=++this._lastColorId,this._color2id[h]=c,this._id2color[c]=h,c}getColorMap(){return this._id2color.slice(0)}}i.ColorMap=g;class A{constructor(h,c,f,o,t){this.scopeDepth=h,this.parentScopes=c,this.fontStyle=f,this.foreground=o,this.background=t}clone(){return new A(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(h){let c=[];for(let f=0,o=h.length;f<o;f++)c[f]=h[f].clone();return c}acceptOverwrite(h,c,f,o){this.scopeDepth>h?console.log("how did this happen?"):this.scopeDepth=h,c!==-1&&(this.fontStyle=c),f!==0&&(this.foreground=f),o!==0&&(this.background=o)}}i.ThemeTrieElementRule=A;class N{constructor(h,c=[],f={}){this._mainRule=h,this._children=f,this._rulesWithParentScopes=c}static _sortBySpecificity(h){return h.length===1||h.sort(this._cmpBySpecificity),h}static _cmpBySpecificity(h,c){if(h.scopeDepth===c.scopeDepth){const f=h.parentScopes,o=c.parentScopes;let t=f===null?0:f.length,s=o===null?0:o.length;if(t===s)for(let r=0;r<t;r++){const n=f[r].length,p=o[r].length;if(n!==p)return p-n}return s-t}return c.scopeDepth-h.scopeDepth}match(h){if(h==="")return N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let c,f,o=h.indexOf(".");return o===-1?(c=h,f=""):(c=h.substring(0,o),f=h.substring(o+1)),this._children.hasOwnProperty(c)?this._children[c].match(f):N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(h,c,f,o,t,s){if(c==="")return void this._doInsertHere(h,f,o,t,s);let r,n,p,l=c.indexOf(".");l===-1?(r=c,n=""):(r=c.substring(0,l),n=c.substring(l+1)),this._children.hasOwnProperty(r)?p=this._children[r]:(p=new N(this._mainRule.clone(),A.cloneArr(this._rulesWithParentScopes)),this._children[r]=p),p.insert(h+1,n,f,o,t,s)}_doInsertHere(h,c,f,o,t){if(c!==null){for(let s=0,r=this._rulesWithParentScopes.length;s<r;s++){let n=this._rulesWithParentScopes[s];if(k.strArrCmp(n.parentScopes,c)===0)return void n.acceptOverwrite(h,f,o,t)}f===-1&&(f=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),t===0&&(t=this._mainRule.background),this._rulesWithParentScopes.push(new A(h,c,f,o,t))}else this._mainRule.acceptOverwrite(h,f,o,t)}}i.ThemeTrieElement=N},878:(P,i)=>{function L(a){return Array.isArray(a)?function(j){let m=[];for(let b=0,T=j.length;b<T;b++)m[b]=L(j[b]);return m}(a):typeof a=="object"?function(j){let m={};for(let b in j)m[b]=L(j[b]);return m}(a):a}Object.defineProperty(i,"__esModule",{value:!0}),i.performanceNow=i.CachedFn=i.escapeRegExpCharacters=i.isValidHexColor=i.strArrCmp=i.strcmp=i.RegexSource=i.basename=i.mergeObjects=i.clone=void 0,i.clone=function(a){return L(a)},i.mergeObjects=function(a,...j){return j.forEach(m=>{for(let b in m)a[b]=m[b]}),a},i.basename=function a(j){const m=~j.lastIndexOf("/")||~j.lastIndexOf("\\");return m===0?j:~m==j.length-1?a(j.substring(0,j.length-1)):j.substr(1+~m)};let k=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function v(a,j){return a<j?-1:a>j?1:0}i.RegexSource=class{static hasCaptures(a){return a!==null&&(k.lastIndex=0,k.test(a))}static replaceCaptures(a,j,m){return a.replace(k,(b,T,g,A)=>{let N=m[parseInt(T||g,10)];if(!N)return b;{let d=j.substring(N.start,N.end);for(;d[0]===".";)d=d.substring(1);switch(A){case"downcase":return d.toLowerCase();case"upcase":return d.toUpperCase();default:return d}}})}},i.strcmp=v,i.strArrCmp=function(a,j){if(a===null&&j===null)return 0;if(!a)return-1;if(!j)return 1;let m=a.length,b=j.length;if(m===b){for(let T=0;T<m;T++){let g=v(a[T],j[T]);if(g!==0)return g}return 0}return m-b},i.isValidHexColor=function(a){return!!(/^#[0-9a-f]{6}$/i.test(a)||/^#[0-9a-f]{8}$/i.test(a)||/^#[0-9a-f]{3}$/i.test(a)||/^#[0-9a-f]{4}$/i.test(a))},i.escapeRegExpCharacters=function(a){return a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},i.CachedFn=class{constructor(a){this.fn=a,this.cache=new Map}get(a){if(this.cache.has(a))return this.cache.get(a);const j=this.fn(a);return this.cache.set(a,j),j}},i.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},u={};return function P(i){var L=u[i];if(L!==void 0)return L.exports;var k=u[i]={exports:{}};return S[i].call(k.exports,k,k.exports,P),k.exports}(787)})()})})(qe);const yt=["css-variables","dark-plus","dracula-soft","dracula","github-dark-dimmed","github-dark","github-light","hc_light","light-plus","material-darker","material-default","material-lighter","material-ocean","material-palenight","min-dark","min-light","monokai","nord","one-dark-pro","poimandres","rose-pine-dawn","rose-pine-moon","rose-pine","slack-dark","slack-ochin","solarized-dark","solarized-light","vitesse-dark","vitesse-light"],Le=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"source.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["json","javascript","typescript","tsx","css","less","sass","scss","stylus"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"blade",scopeName:"text.html.php.blade",path:"blade.tmLanguage.json",samplePath:"blade.sample",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"cadence",scopeName:"source.cadence",path:"cadence.tmLanguage.json",samplePath:"cadence.sample",aliases:["cdc"]},{id:"clarity",scopeName:"source.clar",path:"clarity.tmLanguage.json",samplePath:"clarity.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cmake",scopeName:"source.cmake",path:"cmake.tmLanguage.json",samplePath:"cmake.sample"},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"],embeddedLangs:["markdown"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["glsl","sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#","cs"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample",embeddedLangs:["glsl"]},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample",aliases:["erl"]},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#","fs"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"glsl",scopeName:"source.glsl",path:"glsl.tmLanguage.json",samplePath:"glsl.sample",embeddedLangs:["c"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json",aliases:["hs"]},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json",samplePath:"hcl.sample"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"imba",scopeName:"source.imba",path:"imba.tmLanguage.json",samplePath:"imba.sample"},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"json5",scopeName:"source.json5",path:"json5.tmLanguage.json",samplePath:"json5.sample"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","haskell","html","xml","java","lua","julia","ruby","javascript","typescript","python","yaml","rust","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"liquid",scopeName:"text.html.liquid",path:"liquid.tmLanguage.json",samplePath:"liquid.sample",embeddedLangs:["html","css","json","javascript"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","julia","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",embeddedLangs:["css","less","scss","typescript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"mermaid",scopeName:"source.mermaid",path:"mermaid.tmLanguage.json"},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","glsl","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"proto",scopeName:"source.proto",path:"proto.tmLanguage.json",samplePath:"proto.sample"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","scss","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"rst",scopeName:"source.rst",path:"rst.tmLanguage.json",embeddedLangs:["cpp","python","javascript","shellscript","yaml","cmake","ruby"]},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"v",scopeName:"source.v",path:"v.tmLanguage.json",samplePath:"v.sample"},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["html","markdown","pug","stylus","sass","css","scss","less","javascript","typescript","jsx","tsx","json","jsonc","yaml","toml","graphql"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["文言"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}];var be=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e))(be||{});class K{static toBinaryStr(y){let S=y.toString(2);for(;S.length<32;)S="0"+S;return S}static printMetadata(y){let S=K.getLanguageId(y),u=K.getTokenType(y),P=K.getFontStyle(y),i=K.getForeground(y),L=K.getBackground(y);console.log({languageId:S,tokenType:u,fontStyle:P,foreground:i,background:L})}static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static getFontStyle(y){return(y&14336)>>>11}static getForeground(y){return(y&8372224)>>>15}static getBackground(y){return(y&4286578688)>>>24}static containsBalancedBrackets(y){return(y&1024)!==0}static set(y,S,u,P,i,L){let k=K.getLanguageId(y),v=K.getTokenType(y),a=K.getFontStyle(y),j=K.getForeground(y),m=K.getBackground(y),b=K.containsBalancedBrackets(y)?1:0;return S!==0&&(k=S),u!==0&&(v=u===8?0:u),P!==-1&&(a=P),i!==0&&(j=i),L!==0&&(m=L),(k<<0|v<<8|a<<11|b<<10|j<<15|m<<24)>>>0}}function ze(e){return e.endsWith("/")||e.endsWith("\\")?e.slice(0,-1):e}function He(e){return e.startsWith("./")?e.slice(2):e}function Ee(e){const y=e.split(/[\/\\]/g);return y.slice(0,y.length-1)}function Ge(...e){return e.map(ze).map(He).join("/")}function Ve(e,y){const S=new Map;for(const u of e){const P=y(u);S.has(P)?S.get(P).push(u):S.set(P,[u])}return S}function Ce(e,y=!1){const S=e.length;let u=0,P="",i=0,L=16,k=0,v=0,a=0,j=0,m=0;function b(c,f){let o=0,t=0;for(;o<c||!f;){let s=e.charCodeAt(u);if(s>=48&&s<=57)t=t*16+s-48;else if(s>=65&&s<=70)t=t*16+s-65+10;else if(s>=97&&s<=102)t=t*16+s-97+10;else break;u++,o++}return o<c&&(t=-1),t}function T(c){u=c,P="",i=0,L=16,m=0}function g(){let c=u;if(e.charCodeAt(u)===48)u++;else for(u++;u<e.length&&me(e.charCodeAt(u));)u++;if(u<e.length&&e.charCodeAt(u)===46)if(u++,u<e.length&&me(e.charCodeAt(u)))for(u++;u<e.length&&me(e.charCodeAt(u));)u++;else return m=3,e.substring(c,u);let f=u;if(u<e.length&&(e.charCodeAt(u)===69||e.charCodeAt(u)===101))if(u++,(u<e.length&&e.charCodeAt(u)===43||e.charCodeAt(u)===45)&&u++,u<e.length&&me(e.charCodeAt(u))){for(u++;u<e.length&&me(e.charCodeAt(u));)u++;f=u}else m=3;return e.substring(c,f)}function A(){let c="",f=u;for(;;){if(u>=S){c+=e.substring(f,u),m=2;break}const o=e.charCodeAt(u);if(o===34){c+=e.substring(f,u),u++;break}if(o===92){if(c+=e.substring(f,u),u++,u>=S){m=2;break}switch(e.charCodeAt(u++)){case 34:c+='"';break;case 92:c+="\\";break;case 47:c+="/";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+=`
`;break;case 114:c+="\r";break;case 116:c+="	";break;case 117:const s=b(4,!0);s>=0?c+=String.fromCharCode(s):m=4;break;default:m=5}f=u;continue}if(o>=0&&o<=31)if(_e(o)){c+=e.substring(f,u),m=2;break}else m=6;u++}return c}function N(){if(P="",m=0,i=u,v=k,j=a,u>=S)return i=S,L=17;let c=e.charCodeAt(u);if(Ne(c)){do u++,P+=String.fromCharCode(c),c=e.charCodeAt(u);while(Ne(c));return L=15}if(_e(c))return u++,P+=String.fromCharCode(c),c===13&&e.charCodeAt(u)===10&&(u++,P+=`
`),k++,a=u,L=14;switch(c){case 123:return u++,L=1;case 125:return u++,L=2;case 91:return u++,L=3;case 93:return u++,L=4;case 58:return u++,L=6;case 44:return u++,L=5;case 34:return u++,P=A(),L=10;case 47:const f=u-1;if(e.charCodeAt(u+1)===47){for(u+=2;u<S&&!_e(e.charCodeAt(u));)u++;return P=e.substring(f,u),L=12}if(e.charCodeAt(u+1)===42){u+=2;const o=S-1;let t=!1;for(;u<o;){const s=e.charCodeAt(u);if(s===42&&e.charCodeAt(u+1)===47){u+=2,t=!0;break}u++,_e(s)&&(s===13&&e.charCodeAt(u)===10&&u++,k++,a=u)}return t||(u++,m=1),P=e.substring(f,u),L=13}return P+=String.fromCharCode(c),u++,L=16;case 45:if(P+=String.fromCharCode(c),u++,u===S||!me(e.charCodeAt(u)))return L=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return P+=g(),L=11;default:for(;u<S&&d(c);)u++,c=e.charCodeAt(u);if(i!==u){switch(P=e.substring(i,u),P){case"true":return L=8;case"false":return L=9;case"null":return L=7}return L=16}return P+=String.fromCharCode(c),u++,L=16}}function d(c){if(Ne(c)||_e(c))return!1;switch(c){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function h(){let c;do c=N();while(c>=12&&c<=15);return c}return{setPosition:T,getPosition:()=>u,scan:y?h:N,getToken:()=>L,getTokenValue:()=>P,getTokenOffset:()=>i,getTokenLength:()=>u-i,getTokenStartLine:()=>v,getTokenStartCharacter:()=>i-j,getTokenError:()=>m}}function Ne(e){return e===32||e===9}function _e(e){return e===10||e===13}function me(e){return e>=48&&e<=57}var Se;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(Se||(Se={}));var ke;(function(e){e.DEFAULT={allowTrailingComma:!1}})(ke||(ke={}));function Qe(e,y=[],S=ke.DEFAULT){let u=null,P=[];const i=[];function L(v){Array.isArray(P)?P.push(v):u!==null&&(P[u]=v)}return Je(e,{onObjectBegin:()=>{const v={};L(v),i.push(P),P=v,u=null},onObjectProperty:v=>{u=v},onObjectEnd:()=>{P=i.pop()},onArrayBegin:()=>{const v=[];L(v),i.push(P),P=v,u=null},onArrayEnd:()=>{P=i.pop()},onLiteralValue:L,onError:(v,a,j)=>{y.push({error:v,offset:a,length:j})}},S),P[0]}function Je(e,y,S=ke.DEFAULT){const u=Ce(e,!1),P=[];function i(_){return _?()=>_(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter()):()=>!0}function L(_){return _?()=>_(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter(),()=>P.slice()):()=>!0}function k(_){return _?w=>_(w,u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter()):()=>!0}function v(_){return _?w=>_(w,u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter(),()=>P.slice()):()=>!0}const a=L(y.onObjectBegin),j=v(y.onObjectProperty),m=i(y.onObjectEnd),b=L(y.onArrayBegin),T=i(y.onArrayEnd),g=v(y.onLiteralValue),A=k(y.onSeparator),N=i(y.onComment),d=k(y.onError),h=S&&S.disallowComments,c=S&&S.allowTrailingComma;function f(){for(;;){const _=u.scan();switch(u.getTokenError()){case 4:o(14);break;case 5:o(15);break;case 3:o(13);break;case 1:h||o(11);break;case 2:o(12);break;case 6:o(16);break}switch(_){case 12:case 13:h?o(10):N();break;case 16:o(1);break;case 15:case 14:break;default:return _}}}function o(_,w=[],x=[]){if(d(_),w.length+x.length>0){let O=u.getToken();for(;O!==17;){if(w.indexOf(O)!==-1){f();break}else if(x.indexOf(O)!==-1)break;O=f()}}}function t(_){const w=u.getTokenValue();return _?g(w):(j(w),P.push(w)),f(),!0}function s(){switch(u.getToken()){case 11:const _=u.getTokenValue();let w=Number(_);isNaN(w)&&(o(2),w=0),g(w);break;case 7:g(null);break;case 8:g(!0);break;case 9:g(!1);break;default:return!1}return f(),!0}function r(){return u.getToken()!==10?(o(3,[],[2,5]),!1):(t(!1),u.getToken()===6?(A(":"),f(),l()||o(4,[],[2,5])):o(5,[],[2,5]),P.pop(),!0)}function n(){a(),f();let _=!1;for(;u.getToken()!==2&&u.getToken()!==17;){if(u.getToken()===5){if(_||o(4,[],[]),A(","),f(),u.getToken()===2&&c)break}else _&&o(6,[],[]);r()||o(4,[],[2,5]),_=!0}return m(),u.getToken()!==2?o(7,[2],[]):f(),!0}function p(){b(),f();let _=!0,w=!1;for(;u.getToken()!==4&&u.getToken()!==17;){if(u.getToken()===5){if(w||o(4,[],[]),A(","),f(),u.getToken()===4&&c)break}else w&&o(6,[],[]);_?(P.push(0),_=!1):P[P.length-1]++,l()||o(4,[],[4,5]),w=!0}return T(),_||P.pop(),u.getToken()!==4?o(8,[4],[]):f(),!0}function l(){switch(u.getToken()){case 3:return p();case 1:return n();case 10:return t(!0);default:return s()}}return f(),u.getToken()===17?S.allowEmptyContent?!0:(o(4,[],[]),!1):l()?(u.getToken()!==17&&o(9,[],[]),!0):(o(4,[],[]),!1)}var Ae;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(Ae||(Ae={}));var Te;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(Te||(Te={}));const Xe=Qe;var Pe;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(Pe||(Pe={}));"process"in globalThis&&typeof process<"u"&&typeof process.release<"u"&&process.release.name;let Be="",we="";const Ye="dist/";function Ze(e){Be=e.endsWith("/")?e:e+"/"}function Ke(e){we=e}let ve=null;async function et(e){if(!ve){let y;typeof we=="string"?y=de.loadWASM({data:await(globalThis.__shiki_fetch__||globalThis.fetch)(Me(Ge(...Ee(e),"onig.wasm")))}):y=de.loadWASM({data:we}),ve=y.then(()=>({createOnigScanner(S){return de.createOnigScanner(S)},createOnigString(S){return de.createOnigString(S)}}))}return ve}function Me(e){return`${Be}${e}`}async function tt(e){const y=Me(e);return await(globalThis.__shiki_fetch__||globalThis.fetch)(y).then(S=>S.text())}async function De(e){const y=[],S=Xe(await tt(e),y,{allowTrailingComma:!0});if(y.length)throw y[0];return S}async function Fe(e){let y=await De(e);const S=$e(y);if(S.include){const u=await Fe(Ge(...Ee(e),S.include));u.settings&&(S.settings=u.settings.concat(S.settings)),u.bg&&!S.bg&&(S.bg=u.bg),u.colors&&(S.colors={...u.colors,...S.colors}),delete S.include}return S}async function nt(e){return await De(e)}function st(e){e.settings||(e.settings=[]),!(e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope)&&e.settings.unshift({settings:{foreground:e.fg,background:e.bg}})}function $e(e){const y=e.type||"dark",S={name:e.name,type:y,...e,...rt(e)};return e.include&&(S.include=e.include),e.tokenColors&&(S.settings=e.tokenColors,delete S.tokenColors),st(S),S}const Re={light:"#333333",dark:"#bbbbbb"},xe={light:"#fffffe",dark:"#1e1e1e"};function rt(e){var i,L,k,v;let y,S,u=e.settings?e.settings:e.tokenColors;const P=u?u.find(a=>!a.name&&!a.scope):void 0;return(i=P==null?void 0:P.settings)!=null&&i.foreground&&(y=P.settings.foreground),(L=P==null?void 0:P.settings)!=null&&L.background&&(S=P.settings.background),!y&&((k=e==null?void 0:e.colors)!=null&&k["editor.foreground"])&&(y=e.colors["editor.foreground"]),!S&&((v=e==null?void 0:e.colors)!=null&&v["editor.background"])&&(S=e.colors["editor.background"]),y||(y=e.type==="light"?Re.light:Re.dark),S||(S=e.type==="light"?xe.light:xe.dark),{fg:y,bg:S}}class at{constructor(y,S){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=y,this._onigLibName=S}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(y){return this.languageMap[y]}async loadGrammar(y){const S=this.scopeToLangMap[y];if(!S)return null;if(S.grammar)return S.grammar;const u=await nt(Le.includes(S)?`${this.languagesPath}${S.path}`:S.path);return S.grammar=u,u}addLanguage(y){this.languageMap[y.id]=y,y.aliases&&y.aliases.forEach(S=>{this.languageMap[S]=y}),this.scopeToLangMap[y.scopeName]=y}}function it(e,y,S,u,P){let i=S.split(/\r\n|\r|\n/),L=ye.INITIAL,k=[],v=[];for(let a=0,j=i.length;a<j;a++){let m=i[a];if(m===""){k=[],v.push([]);continue}let b,T,g;P.includeExplanation&&(b=u.tokenizeLine(m,L),T=b.tokens,g=0);let A=u.tokenizeLine2(m,L),N=A.tokens.length/2;for(let d=0;d<N;d++){let h=A.tokens[2*d],c=d+1<N?A.tokens[2*d+2]:m.length;if(h===c)continue;let f=A.tokens[2*d+1],o=K.getForeground(f),t=y[o],s=K.getFontStyle(f),r=[];if(P.includeExplanation){let n=0;for(;h+n<c;){let p=T[g],l=m.substring(p.startIndex,p.endIndex);n+=l.length,r.push({content:l,scopes:ot(e,p.scopes)}),g++}}k.push({content:m.substring(h,c),color:t,fontStyle:s,explanation:r})}v.push(k),k=[],L=A.ruleStack}return v}function ot(e,y){let S=[];for(let u=0,P=y.length;u<P;u++){let i=y.slice(0,u),L=y[u];S[u]={scopeName:L,themeMatches:lt(e,L,i)}}return S}function Ie(e,y){let S=e+".";return e===y||y.substring(0,S.length)===S}function ct(e,y,S,u){if(!Ie(e,S))return!1;let P=y.length-1,i=u.length-1;for(;P>=0&&i>=0;)Ie(y[P],u[i])&&P--,i--;return P===-1}function lt(e,y,S){let u=[],P=0;for(let i=0,L=e.settings.length;i<L;i++){let k=e.settings[i],v;if(typeof k.scope=="string")v=k.scope.split(/,/).map(a=>a.trim());else if(Array.isArray(k.scope))v=k.scope;else continue;for(let a=0,j=v.length;a<j;a++){let b=v[a].split(/ /),T=b[b.length-1],g=b.slice(0,b.length-1);ct(T,g,y,S)&&(u[P++]=k,a=j)}}return u}const ut={pre({className:e,style:y,children:S}){return`<pre class="${e}" style="${y}">${S}</pre>`},code({children:e}){return`<code>${e}</code>`},line({className:e,children:y}){return`<span class="${e}">${y}</span>`},token({style:e,children:y}){return`<span style="${e}">${y}</span>`}};function pt(e,y={}){const S=y.bg||"#fff",u=Ve(y.lineOptions??[],L=>L.line),P=y.elements||{};function i(L="",k={},v){const a=P[L]||ut[L];return a?(v=v.filter(Boolean),a({...k,children:L==="code"?v.join(`
`):v.join("")})):""}return i("pre",{className:"shiki "+(y.themeName||""),style:`background-color: ${S}`},[y.langId?`<div class="language-id">${y.langId}</div>`:"",i("code",{},e.map((L,k)=>{const v=k+1,a=u.get(v)??[],j=mt(a).join(" ");return i("line",{className:j,lines:e,line:L,index:k},L.map((m,b)=>{const T=[`color: ${m.color||y.fg}`];return m.fontStyle&be.Italic&&T.push("font-style: italic"),m.fontStyle&be.Bold&&T.push("font-weight: bold"),m.fontStyle&be.Underline&&T.push("text-decoration: underline"),i("token",{style:T.join("; "),tokens:L,token:m,index:b},[gt(m.content)])}))}))])}const ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gt(e){return e.replace(/[&<>"']/g,y=>ht[y])}function mt(e){const y=new Set(["line"]);for(const S of e)for(const u of S.classes??[])y.add(u);return Array.from(y)}class dt extends ye.Registry{constructor(y){super(y),this._resolver=y,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={},this._langGraph=new Map,this._langMap=Le.reduce((S,u)=>(S[u.id]=u,S),{})}getTheme(y){return typeof y=="string"?this._resolvedThemes[y]:y}async loadTheme(y){return typeof y=="string"?(this._resolvedThemes[y]||(this._resolvedThemes[y]=await Fe(`${this.themesPath}${y}.json`)),this._resolvedThemes[y]):(y=$e(y),y.name&&(this._resolvedThemes[y.name]=y),y)}async loadThemes(y){return await Promise.all(y.map(S=>this.loadTheme(S)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(y){return this._resolvedGrammars[y]}async loadLanguage(y){var i;const u={embeddedLanguages:(i=y.embeddedLangs)==null?void 0:i.reduce(async(L,k,v)=>{if(!this.getLoadedLanguages().includes(k)&&this._resolver.getLangRegistration(k))return await this._resolver.loadGrammar(this._resolver.getLangRegistration(k).scopeName),L[this._resolver.getLangRegistration(k).scopeName]=v+2,L},{}),balancedBracketSelectors:y.balancedBracketSelectors||["*"],unbalancedBracketSelectors:y.unbalancedBracketSelectors||[]},P=await this.loadGrammarWithConfiguration(y.scopeName,1,u);this._resolvedGrammars[y.id]=P,y.aliases&&y.aliases.forEach(L=>{this._resolvedGrammars[L]=P})}async loadLanguages(y){for(const u of y)this.resolveEmbeddedLanguages(u);const S=Array.from(this._langGraph.values());for(const u of S)this._resolver.addLanguage(u);for(const u of S)await this.loadLanguage(u)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}resolveEmbeddedLanguages(y){if(this._langGraph.has(y.id)||this._langGraph.set(y.id,y),y.embeddedLangs)for(const S of y.embeddedLangs)this._langGraph.set(S,this._langMap[S])}}function Ue(e){return typeof e=="string"?Le.find(y=>{var S;return y.id===e||((S=y.aliases)==null?void 0:S.includes(e))}):e}function ft(e){var P;let y=Le,S=e.themes||[],u=(P=e.paths)!=null&&P.wasm?e.paths.wasm.endsWith("/")?e.paths.wasm:e.paths.wasm+"/":Ye;return e.langs&&(y=e.langs.map(Ue)),e.theme&&S.unshift(e.theme),S.length||(S=["nord"]),{_languages:y,_themes:S,_wasmPath:u}}async function kt(e){var t,s;const{_languages:y,_themes:S,_wasmPath:u}=ft(e),P=new at(et(u),"vscode-oniguruma"),i=new dt(P);(t=e.paths)!=null&&t.themes&&(i.themesPath=e.paths.themes.endsWith("/")?e.paths.themes:e.paths.themes+"/"),(s=e.paths)!=null&&s.languages&&(P.languagesPath=e.paths.languages.endsWith("/")?e.paths.languages:e.paths.languages+"/");const k=(await i.loadThemes(S))[0];let v;await i.loadLanguages(y);let a={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function j(r){a=r}function m(r,n){r.bg=a[r.bg]||r.bg,r.fg=a[r.fg]||r.fg,n.forEach((p,l)=>{n[l]=a[p]||p})}function b(r){const n=r?i.getTheme(r):k;if(!n)throw Error(`No theme registration for ${r}`);(!v||v.name!==n.name)&&(i.setTheme(n),v=n);const p=i.getColorMap();return n.type==="css"&&m(n,p),{_theme:n,_colorMap:p}}function T(r){const n=i.getGrammar(r);if(!n)throw Error(`No language registration for ${r}`);return{_grammar:n}}function g(r,n="text",p,l={includeExplanation:!0}){if(_t(n))return[...r.split(/\r\n|\r|\n/).map(E=>[{content:E}])];const{_grammar:_}=T(n),{_theme:w,_colorMap:x}=b(p);return it(w,x,r,_,l)}function A(r,n="text",p){let l;typeof n=="object"?l=n:l={lang:n,theme:p};const _=g(r,l.lang,l.theme,{includeExplanation:!1}),{_theme:w}=b(l.theme);return pt(_,{fg:w.fg,bg:w.bg,lineOptions:l==null?void 0:l.lineOptions,themeName:w.name})}async function N(r){await i.loadTheme(r)}async function d(r){const n=Ue(r);P.addLanguage(n),await i.loadLanguage(n)}function h(){return i.getLoadedThemes()}function c(){return i.getLoadedLanguages()}function f(r){const{_theme:n}=b(r);return n.bg}function o(r){const{_theme:n}=b(r);return n.fg}return{codeToThemedTokens:g,codeToHtml:A,getTheme:r=>b(r)._theme,loadTheme:N,loadLanguage:d,getBackgroundColor:f,getForegroundColor:o,getLoadedThemes:h,getLoadedLanguages:c,setColorReplacements:j}}function _t(e){return!e||["plaintext","txt","text"].includes(e)}function Lt(e){Ke(e)}const bt="0.2.0";Ze(`https://cdn.jsdelivr.net/npm/shiki-es@${bt}/dist/assets/`);export{Le as BUNDLED_LANGUAGES,yt as BUNDLED_THEMES,be as FontStyle,kt as getHighlighter,Fe as loadTheme,pt as renderToHtml,Ze as setCDN,Lt as setOnigasmWASM,Ke as setWasm,$e as toShikiTheme};
