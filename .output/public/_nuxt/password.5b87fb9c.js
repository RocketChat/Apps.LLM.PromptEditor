import{_ as y}from"./input.vue.0d9c8040.js";import{_ as x}from"./button.vue.62ed5eac.js";import{r as p,G as _,a1 as S,a as v,s as k,a2 as C,b as f,e as m,u as w,A as T,X as E,w as b,l as N,j as R,B as V,o as h,m as A}from"./entry.3cc83cf9.js";const I=decodeURIComponent,U=encodeURIComponent,B=/; */,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function L(e,n){if(typeof e!="string")throw new TypeError("argument str must be a string");let o={},t=n||{},a=e.split(B),r=t.decode||I;for(let i=0;i<a.length;i++){let s=a[i],l=s.indexOf("=");if(l<0)continue;let d=s.substr(0,l).trim(),c=s.substr(++l,s.length).trim();c[0]=='"'&&(c=c.slice(1,-1)),o[d]==null&&(o[d]=O(c,r))}return o}function g(e,n,o){let t=o||{},a=t.encode||U;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");let r=a(n);if(r&&!u.test(r))throw new TypeError("argument val is invalid");let i=e+"="+r;if(t.maxAge!=null){let s=t.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(t.domain){if(!u.test(t.domain))throw new TypeError("option domain is invalid");i+="; Domain="+t.domain}if(t.path){if(!u.test(t.path))throw new TypeError("option path is invalid");i+="; Path="+t.path}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function O(e,n){try{return n(e)}catch{return e}}const j={path:"/",watch:!0,decode:e=>S(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function D(e,n){var r;const o={...j,...n},t=G(o)||{},a=p(t[e]??((r=o.default)==null?void 0:r.call(o)));{const i=()=>{$(e,a.value,o)};o.watch?_(a,i,{deep:o.watch!=="shallow"}):i()}return a}function G(e={}){return L(document.cookie,e)}function K(e,n,o={}){return n==null?g(e,n,{...o,maxAge:-1}):g(e,n,o)}function $(e,n,o={}){document.cookie=K(e,n,o)}const z={flex:"~ col gap-2","items-center":"","justify-center":"","h-full":"","w-full":"","text-color":""},M=R("div",{"mb-4":""}," This instance is protected by a password. ",-1),P={key:0},J=v({__name:"password",setup(e){const n=p(""),o=p(!1),{isLoggedIn:t}=k(),a=C();async function r(){await a.auth.login.mutate(n.value)?(o.value=!1,D("golem-password").value=n.value,t.value=!0,V("/")):o.value=!0}return(i,s)=>{const l=y,d=x;return h(),f("div",z,[M,m(l,{modelValue:w(n),"onUpdate:modelValue":s[0]||(s[0]=c=>T(n)?n.value=c:null),type:"password",placeholder:"Password",class:"min-w-48 max-w-64","text-color":"",onKeydown:E(r,["enter"])},null,8,["modelValue","onKeydown"]),m(d,{class:"min-w-48 max-w-64",onClick:r},{default:b(()=>[A(" Login ")]),_:1}),w(o)?(h(),f("div",P," Invalid password ")):N("",!0)])}}});export{J as default};
