import{a9 as d,Q as f}from"./entry.3cc83cf9.js";import{n as r}from"./index.browser.7e542916.js";function y(){const t=d(),a=f("personaList",()=>[]);async function u(){a.value=await t.table("personas").toArray(),a.value.length||await o({id:r(),title:"Golem",instructions:"You are Golem, a large language model based assistant. Answer as concisely as possible."})}async function o(e){const s={...e,id:r()};await t.table("personas").add(s),a.value.push(s),await n()}async function l(e){await t.table("personas").delete(e),a.value=a.value.filter(s=>s.id!==e),await n()}async function c(e,s){const i=a.value.find(p=>p.id===e);i&&await t.table("personas").put({...i,...s}),await n()}async function n(){a.value=await t.table("personas").toArray()}return{initPersonaList:u,personaList:a,createPersona:o,deletePersona:l,updatePersona:c}}export{y as u};
